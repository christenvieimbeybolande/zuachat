# ================================================
# ⚙️  CONFIGURATION GRADLE / FLUTTER - ZuaChat
# ================================================
org.gradle.java.home=C:\\Program Files\\Java\\jdk-17

# ✅ Optimisation mémoire pour éviter les crash JVM
org.gradle.jvmargs=-Xmx8G -XX:MaxMetaspaceSize=4G -XX:ReservedCodeCacheSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8

# ✅ Compatibilité AndroidX (obligatoire pour Flutter moderne)
android.useAndroidX=true
android.enableJetifier=true

# ✅ Amélioration performance des builds
org.gradle.daemon=true
org.gradle.parallel=true
org.gradle.configureondemand=true

# ✅ Résolution automatique des dépendances (utile pour pubspec.yaml)
android.defaults.buildfeatures.buildconfig=true

# ✅ Empêche les erreurs sur la taille de build intermédaire
android.nonTransitiveRClass=true

# ✅ Réduit les temps de compilation sur les builds répétitifs
kotlin.incremental=true
kotlin.compiler.execution.strategy=in-process

# ✅ Encodage correct
org.gradle.encoding=UTF-8

# ✅ Flutter optimisations
flutter.minSdkVersion=21
flutter.targetSdkVersion=34
flutter.compileSdkVersion=34

# ✅ Evite les suppressions d'icônes Material pendant le build release
# (si tu veux garder toutes les icônes Material)
# Pour désactiver le tree-shaking : ajoute --no-tree-shake-icons dans la commande build
# flutter.buildMode=release

# ================================================
# ✅ Notes :
# - Si ton PC a moins de 8 Go de RAM, remplace -Xmx8G par -Xmx4G
# - Si tu buildes souvent en Release, tu peux forcer Gradle à rester en mémoire
# - Compatible Java 17 ou 21
# ================================================
